---
title: ESP32dd电子钟
headimg: /headimg/headimg/headimg_10.png
date: 2020-11-03 15:51:02
tags: [自制小玩具, ESP32]
---


# 基于ESP32的电子钟
## 初衷
原本只是想做一个电子钟，放在桌上更方便看时间，没想到最终做成了插件，板子底部有正反两面金手指(文末写出淘宝链接)，引出了ESP32的20个引脚，可以连接其他板子使用。因为经验不足没有想到更好的供电方案，索性就把库存的升压和稳压模块直接拿出来用了。因为第一次制作，原理图设计和layout设计很多方面都设计的不是特别合理(希望有大佬在留言区提出建议😊)
## 使用说明

```
k1_mode 切换模式
    --> k2_up   时间加+
    --> k3_down 时间-
    --> k4_s    保存
    
k2_up 环形五灯_看天气_修改地区
    --> 立即显示温度，不显示时间
    --> led点亮地区说明
                       *1[6]
                       
                  *5[6]      *2[6]
                                    *颜色1: p15 = 0  L* = 1
                                            
                    *4[6] *3[6]     [*]颜色2: p15 = 1  L* = 0
                    
    *1: 晴 *2: 阴 *3: 雪 *4: 雨 *5: 风
    
    --> k1_mode  切换地区(LED灯顺时针切换)
    
    *1: 东莞 *2: 韶关 *3: 广州 *4: 上海 *5: 深圳
    *1: 地区 *2: 地区 *3: 地区 *4: 地区 *5: 地区
    
    --> k3_down  
    
    保存地区并返回上面一级看天气
    
    --> k4_s     退出天气显示
    

k3_down 看日期
    --> k1_mode 切换月份和日期
    --> k2_up   日期加+
    --> k3_down 时日期-
    --> k4_s    保存并退出

```
数码管LED原理
```

#                        123 4567          |        123 4567
#     __1__              ABC DEFG          |        ABC DEFG 
#    |     |    |  0 ->  000 0001 -> 0x    |  5 ->  010 0100 -> 0x
#  6 |     | 2  |  1 ->  100 1111 -> 0x    |  6 ->  010 0000 -> 0x
#    |__7__|    |  2 ->  001 0010 -> 0x    |  7 ->  000 1111 -> 0x
#    |     |    |  3 ->  000 0110 -> 0x    |  8 ->  000 0000 -> 0x
#  5 |     | 3  |  4 ->  100 1100 -> 0x    |  9 ->  000 0100 -> 0x
#    |__4__|    |  由低电平触发



#                        123 4567          |        123 4567
#     __1__              ABC DEFG          |        ABC DEFG 
#    |     |    |  0 ->  000 0001 -> 0x    |  5 ->  010 0100 -> 0x
#  6 |     | 2  |  1 ->  100 1111 -> 0x    |  6 ->  010 0000 -> 0x
#    |__7__|    |  2 ->  001 0010 -> 0x    |  7 ->  000 1111 -> 0x
#    |     |    |  3 ->  000 0110 -> 0x    |  8 ->  000 0000 -> 0x
#  5 |     | 3  |  4 ->  100 1100 -> 0x    |  9 ->  000 0100 -> 0x
#    |__4__|    |  由高电平触发

```
## 硬件部分

## 软件部分
本程序使用的是micropython，这里给出micropython的官网链接[戳我进官网](http://micropython.org/)，需要先将micropython解释器烧录到ESP32中，ESP32才能运行micropython程序，具体烧录过程请参考[ESP32 micropython固件烧录](/2020/11/05/ESP32-micropython固件烧录/esp32-micropython固件烧录/)

